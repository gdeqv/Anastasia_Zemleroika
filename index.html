<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Когда придёт Анастасия Землеройка</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Creepster&display=swap');

    body {
        margin: 0;
        padding: 0;
        background-color: #000;
        color: #fff;
        font-family: 'Creepster', cursive;
        text-align: center;
    }

    header {
        position: relative;
        padding: 20px;
    }

    header img.warning {
        position: absolute;
        top: 20px;
        width: 60px;
    }

    header img.warning.left { left: 20px; }
    header img.warning.right { right: 20px; }

    header img.character {
        width: 200px;
        border-radius: 10px;
    }

    h1 {
        font-size: 2.5em;
        margin: 10px 0;
        color: #ff0000;
        text-shadow: 0 0 10px #ff0000;
    }

    .disclaimer {
        font-size: 0.8em;
        color: #888;
        margin-bottom: 30px;
    }

    .search-section {
        margin: 20px 0;
    }

    input[type="text"] {
        padding: 10px;
        font-size: 1em;
        border-radius: 5px;
        border: none;
        outline: none;
        margin-right: 10px;
    }

    button {
        padding: 10px 15px;
        font-size: 1em;
        border-radius: 5px;
        border: none;
        background-color: #ff0000;
        color: #fff;
        cursor: pointer;
    }

    .city-result {
        margin-top: 20px;
        font-size: 1.2em;
        color: #ff8800;
        border: 1px solid #ff8800;
        padding: 15px;
        border-radius: 10px;
        display: inline-block;
        text-align: left;
    }

    .city-result span.time { color: #00ff00; font-weight: bold; }
    .city-result span.alert { color: #ff4444; font-weight: bold; }

    .locations {
        margin-top: 30px;
        font-size: 1em;
        color: #ff8800;
        text-align: left;
        display: inline-block;
    }

    .locations h2 { color: #ff4400; }
</style>
</head>
<body>

<header>
    <img class="warning left" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Warning_icon.svg/1200px-Warning_icon.svg.png" alt="Warning">
    <img class="warning right" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Warning_icon.svg/1200px-Warning_icon.svg.png" alt="Warning">
    <img class="character" src="https://i.postimg.cc/pVD9BJq2/Screenshot-20251109-122443-2.png" alt="Анастасия Землеройка">
    <h1>Когда придёт Анастасия Землеройка?</h1>
</header>

<p class="disclaimer">⚠️ Всё шутка! Анастасия Землеройка — вымышленный мемный персонаж. ⚠️</p>

<div class="search-section">
    <input type="text" id="citySearch" placeholder="Введите город или село">
    <button onclick="checkArrival()">Проверить</button>
</div>

<div class="city-result" id="cityResult" style="display:none;"></div>

<div class="locations">
    <h2>Где замечена Анастасия (9 ноября 2025, время МСК):</h2>
    <ul id="locations-list">
        <li data-time="13:00">13:00 — Test-City 1</li>
        <li data-time="13:05">13:05 — Test-Village 1</li>
        <li data-time="13:15">13:15 — Test-Village 2</li>
        <li data-time="13:20">13:20 — Test-Village 3</li>
        <li data-time="13:40">13:40 — Test-City 2</li>
    </ul>
</div>

<script>
function checkArrival() {
    const searchTerm = document.getElementById('citySearch').value.toLowerCase();
    const cityResultDiv = document.getElementById('cityResult');
    const listItems = document.querySelectorAll('#locations-list li');

    const nowMSK = new Date(new Date().toLocaleString("en-US", {timeZone: "Europe/Moscow"}));
    const today = new Date(2025, 10, 9); // 9 ноября 2025, месяцы с 0
    today.setHours(nowMSK.getHours());
    today.setMinutes(nowMSK.getMinutes());
    today.setSeconds(nowMSK.getSeconds());

    let found = false;

    listItems.forEach(li => {
        li.style.color = '#888';
        li.textContent = li.textContent.split(' — ')[1]; // сброс предыдущего текста
        const cityName = li.textContent.toLowerCase();
        if(searchTerm && cityName.includes(searchTerm)) {
            found = true;
            const timeParts = li.getAttribute('data-time').split(':');
            const cityTime = new Date(today);
            cityTime.setHours(parseInt(timeParts[0]));
            cityTime.setMinutes(parseInt(timeParts[1]));
            cityTime.setSeconds(0);

            const delta = (cityTime - nowMSK) / (1000 * 60); // разница в мин

            let alertText = '';
            let color = '';
            if(delta <= 0 && delta > -15) {
                alertText = 'Очень близко! ⚠️';
                color = '#ff4444';
            } else if(delta > 0 && delta <= 15) {
                alertText = 'Почти здесь! ⚠️';
                color = '#ff8800';
            } else {
                alertText = 'Пока далеко ✅';
                color = '#00ff00';
            }

            cityResultDiv.style.display = 'block';
            cityResultDiv.innerHTML = `
                <strong>${li.textContent}</strong><br>
                Время прихода (МСК): <span class="time">${li.getAttribute('data-time')}</span><br>
                Статус: <span class="alert" style="color:${color}">${alertText}</span>
            `;
        }
    });

    if(searchTerm && !found) {
        cityResultDiv.style.display = 'block';
        cityResultDiv.innerHTML = `Город или село не найдено.`;
    } else if(!searchTerm) {
        cityResultDiv.style.display = 'none';
    }
}
</script>

</body>
    </html>
